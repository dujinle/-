{"version":3,"sources":["../../../../../assets/Script/msage_scroll/assets/Script/msage_scroll/msage_scroll.js"],"names":["cc","Class","extends","Component","properties","scroll_label","Label","scroll_parent","Node","onLoad","set_string","string","node","active","stopAllActions","x","getContentSize","width","getPositionX","start_scroll","self","runAction","repeatForever","sequence","moveBy","callFunc","cnode","left_x","bind"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,UAASF,GAAGG,SADP;;AAGLC,aAAY;AACdC,gBAAaL,GAAGM,KADF;AAEdC,iBAAcP,GAAGQ;AAFH,EAHP;;AAQLC,OARK,oBAQK;AACZ;AACA,EAVO;AAWRC,WAXQ,sBAWGC,MAXH,EAWU;AACjB,OAAKN,YAAL,CAAkBO,IAAlB,CAAuBC,MAAvB,GAAgC,KAAhC;AACA,OAAKR,YAAL,CAAkBO,IAAlB,CAAuBE,cAAvB;AACA,OAAKT,YAAL,CAAkBM,MAAlB,GAA2BA,MAA3B;AACA,OAAKN,YAAL,CAAkBO,IAAlB,CAAuBG,CAAvB,GAA2B,KAAKR,aAAL,CAAmBS,cAAnB,GAAoCC,KAApC,GAA0C,CAA1C,GAC1B,KAAKV,aAAL,CAAmBW,YAAnB,EAD0B,GAE1B,KAAKb,YAAL,CAAkBO,IAAlB,CAAuBI,cAAvB,GAAwCC,KAFzC;AAGA,OAAKE,YAAL;AACA,EAnBO;AAoBRA,aApBQ,0BAoBM;AACb,OAAKd,YAAL,CAAkBO,IAAlB,CAAuBC,MAAvB,GAAgC,IAAhC;AACA,MAAIO,OAAO,IAAX;AACA,OAAKf,YAAL,CAAkBO,IAAlB,CAAuBS,SAAvB,CAAiCrB,GAAGsB,aAAH,CAAiBtB,GAAGuB,QAAH,CAAYvB,GAAGwB,MAAH,CAAU,KAAV,EAAgB,CAAhB,EAAkB,CAAlB,CAAZ,EAAiCxB,GAAGyB,QAAH,CAAY,YAAU;AACxG,OAAIC,QAAQN,KAAKf,YAAL,CAAkBO,IAA9B;AACAc,SAAMX,CAAN,GAAUW,MAAMX,CAAN,GAAU,GAApB;AACA,OAAIY,SAASP,KAAKb,aAAL,CAAmBS,cAAnB,GAAoCC,KAApC,GAA0C,CAA1C,GAA8CS,MAAMV,cAAN,GAAuBC,KAAlF;AACS,OAAGS,MAAMX,CAAN,IAAW,CAACY,MAAD,GAAUP,KAAKb,aAAL,CAAmBQ,CAA3C,EAA6C;AACrDW,UAAMZ,cAAN;AACS;AACJ,GAPwF,CAOvFc,IAPuF,CAOlF,IAPkF,CAAZ,CAAjC,CAAjB,CAAjC;AAQA;AA/BO,CAAT","file":"msage_scroll.js","sourceRoot":"../../../../../assets/Script/msage_scroll","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n\t\tscroll_label:cc.Label,\n\t\tscroll_parent:cc.Node,\n\t},\n\n    onLoad () {\n\t\t//this.set_string(\"今天天气不错\");\n\t},\n\tset_string(string){\n\t\tthis.scroll_label.node.active = false;\n\t\tthis.scroll_label.node.stopAllActions();\n\t\tthis.scroll_label.string = string;\n\t\tthis.scroll_label.node.x = this.scroll_parent.getContentSize().width/2 +\n\t\t\tthis.scroll_parent.getPositionX() +\n\t\t\tthis.scroll_label.node.getContentSize().width;\n\t\tthis.start_scroll();\n\t},\n\tstart_scroll(){\n\t\tthis.scroll_label.node.active = true;\n\t\tvar self = this;\n\t\tthis.scroll_label.node.runAction(cc.repeatForever(cc.sequence(cc.moveBy(0.001,0,0),cc.callFunc(function(){\n\t\t\tvar cnode = self.scroll_label.node;\n\t\t\tcnode.x = cnode.x - 2.5;\n\t\t\tvar left_x = self.scroll_parent.getContentSize().width/2 + cnode.getContentSize().width;\n            if(cnode.x <= -left_x + self.scroll_parent.x){\n\t\t\t\tcnode.stopAllActions();\n            }\n        }.bind(this)))));\n\t}\n});\n"]}
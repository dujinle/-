{"version":3,"sources":["../../../../../assets/Script/userinfo/assets/Script/userinfo/popUserLayer.js"],"names":["cc","Class","extends","Component","properties","bg_sprite","Node","vnickname_lable","Label","vacount_label","vlevel_label","vfangka_label","vuid_label","vsex_label","vvip_label","vdiamon_label","onLoad","log","self","eventManager","addListener","event","EventListener","TOUCH_ONE_BY_ONE","swallowTouches","onTouchBegan","touch","target","getCurrentTarget","locationInNode","convertToNodeSpace","getLocation","onTouchMoved","onTouchEnded","local","s","getContentSize","rect","width","height","rectContainsPoint","node","active","show","string","g_user","nickName","fangka","gender","vip","diamond","hide","exit"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,WAASF,GAAGG,SADP;;AAGLC,cAAY;AACR;AACNC,eAAUL,GAAGM,IAFC;AAGRC,qBAAgBP,GAAGQ,KAHX;AAIRC,mBAAcT,GAAGQ,KAJT;AAKRE,kBAAaV,GAAGQ,KALR;AAMRG,mBAAcX,GAAGQ,KANT;AAORI,gBAAWZ,GAAGQ,KAPN;AAQRK,gBAAWb,GAAGQ,KARN;AASdM,gBAAWd,GAAGQ,KATA;AAUdO,mBAAcf,GAAGQ;AAVH,GAHP;;AAgBL;;AAEAQ,QAlBK,oBAkBI;AACLhB,OAAGiB,GAAH,CAAO,+BAAP;AACN,QAAIC,OAAO,IAAX;AACMlB,OAAGmB,YAAH,CAAgBC,WAAhB,CAA4B;AACxBC,aAAOrB,GAAGsB,aAAH,CAAiBC,gBADA;AAExBC,sBAAgB,IAFQ;AAGxB;AACAC,oBAAc,sBAAUC,KAAV,EAAiBL,KAAjB,EAAwB;AAClC;AACA,YAAIM,SAASN,MAAMO,gBAAN,EAAb;AACA;AACA,YAAIC,iBAAiBF,OAAOG,kBAAP,CAA0BJ,MAAMK,WAAN,EAA1B,CAArB;AACA/B,WAAGiB,GAAH,CAAO,WAASY,cAAhB;AACA,eAAO,IAAP;AACH,OAXuB;AAYxBG,oBAAc,sBAAUN,KAAV,EAAiBL,KAAjB,EAAwB,CAAa;AAClD,OAbuB;AAcxBY,oBAAc,sBAAUP,KAAV,EAAiBL,KAAjB,EAAwB;AAAa;AAC3D,YAAIM,SAAON,MAAMO,gBAAN,EAAX;AACA,YAAIM,QAAMP,OAAOG,kBAAP,CAA0BJ,MAAMK,WAAN,EAA1B,CAAV;AACA,YAAII,IAAIR,OAAOS,cAAP,EAAR;AACA,YAAIC,OAAOrC,GAAGqC,IAAH,CAAQ,CAAR,EAAW,CAAX,EAAcF,EAAEG,KAAhB,EAAuBH,EAAEI,MAAzB,CAAX;AACA,YAAIvC,GAAGwC,iBAAH,CAAqBH,IAArB,EAA2BH,KAA3B,CAAJ,EAAsC;AACrClC,aAAGiB,GAAH,CAAO,8BAAP;AACA,SAFD,MAEK;AACJjB,aAAGiB,GAAH,CAAO,0BAAP;AACAC,eAAKuB,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACA;AACQ;AAzBuB,KAA5B,EA0BI,KAAKrC,SA1BT;AA2BH,GAhDI;AAiDRsC,MAjDQ,kBAiDF;AACL,SAAKpC,eAAL,CAAqBqC,MAArB,GAA8BC,OAAOC,QAArC;AACA,SAAKrC,aAAL,CAAmBmC,MAAnB,GAA4B,YAA5B;AACA,SAAKlC,YAAL,CAAkBkC,MAAlB,GAA2B,GAA3B;AACA,SAAKjC,aAAL,CAAmBiC,MAAnB,GAA4BC,OAAOE,MAAnC;AACA,SAAKnC,UAAL,CAAgBgC,MAAhB,GAAyB,UAAzB;AACA,QAAGC,OAAOG,MAAP,IAAiB,CAApB,EAAsB;AACrB,WAAKnC,UAAL,CAAgB+B,MAAhB,GAAyB,GAAzB;AACA,KAFD,MAEK;AACJ,WAAK/B,UAAL,CAAgB+B,MAAhB,GAAyB,GAAzB;AACA;AACD,SAAK9B,UAAL,CAAgB8B,MAAhB,GAAyBC,OAAOI,GAAhC;AACA,SAAKlC,aAAL,CAAmB6B,MAAnB,GAA4BC,OAAOK,OAAnC;AACA,SAAKT,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA,GA/DO;AAgERS,MAhEQ,kBAgEF;AACL,SAAKV,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACA,GAlEO;AAmELU,MAnEK,kBAmEC,CAEL;AArEI,CAAT","file":"popUserLayer.js","sourceRoot":"../../../../../assets/Script/userinfo","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        /*user layer 里面的参数设置*/\n\t\tbg_sprite:cc.Node,\n        vnickname_lable:cc.Label,\n        vacount_label:cc.Label,\n        vlevel_label:cc.Label,\n        vfangka_label:cc.Label,\n        vuid_label:cc.Label,\n        vsex_label:cc.Label,\n\t\tvvip_label:cc.Label,\n\t\tvdiamon_label:cc.Label,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        cc.log(\"start go into popUserLayer js\");\n\t\tvar self = this;\n        cc.eventManager.addListener({\n            event: cc.EventListener.TOUCH_ONE_BY_ONE,\n            swallowTouches: true,\n            // 设置是否吞没事件，在 onTouchBegan 方法返回 true 时吞没\n            onTouchBegan: function (touch, event) {\n                //实现 onTouchBegan 事件回调函数\n                var target = event.getCurrentTarget();\n                // 获取事件所绑定的 target\n                var locationInNode = target.convertToNodeSpace(touch.getLocation());\n                cc.log(\"当前点击坐标\"+locationInNode);\n                return true;\n            },\n            onTouchMoved: function (touch, event) {            // 触摸移动时触发\n            },\n            onTouchEnded: function (touch, event) {            // 点击事件结束处理\n\t\t\t\tvar target=event.getCurrentTarget();\n\t\t\t\tvar local=target.convertToNodeSpace(touch.getLocation());\n\t\t\t\tvar s = target.getContentSize();\n\t\t\t\tvar rect = cc.rect(0, 0, s.width, s.height);\n\t\t\t\tif (cc.rectContainsPoint(rect, local)){\n\t\t\t\t\tcc.log(\"ok touch in the region......\");\n\t\t\t\t}else{\n\t\t\t\t\tcc.log(\"touch remove from parent\");\n\t\t\t\t\tself.node.active = false;\n\t\t\t\t}\n            }\n         }, this.bg_sprite);\n    },\n\tshow(){\n\t\tthis.vnickname_lable.string = g_user.nickName;\n\t\tthis.vacount_label.string = \"1234567890\";\n\t\tthis.vlevel_label.string = \"0\";\n\t\tthis.vfangka_label.string = g_user.fangka;\n\t\tthis.vuid_label.string = \"12345566\";\n\t\tif(g_user.gender == 1){\n\t\t\tthis.vsex_label.string = \"男\";\n\t\t}else{\n\t\t\tthis.vsex_label.string = \"女\";\n\t\t}\n\t\tthis.vvip_label.string = g_user.vip;\n\t\tthis.vdiamon_label.string = g_user.diamond;\n\t\tthis.node.active = true;\n\t},\n\thide(){\n\t\tthis.node.active = false;\n\t},\n    exit(){\n    \n    },\n});\n"]}
{"version":3,"sources":["../../../../../assets/Script/compare/assets/Script/compare/select_compare.js"],"names":["cc","Class","extends","Component","properties","my_selects","type","Node","default","callback","onLoad","log","self","node","on","switchRadio","eventManager","addListener","event","EventListener","TOUCH_ONE_BY_ONE","swallowTouches","onTouchBegan","touch","onTouchMoved","onTouchEnded","target","getCurrentTarget","local","convertToNodeSpace","getLocation","s","getContentSize","rect","width","height","rectContainsPoint","active","set_which_select","which","JSON","stringify","i","length","idx","set_callback","index","getComponent","destroy"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,UAASF,GAAGG,SADP;;AAGLC,aAAY;AACdC,cAAW;AACVC,SAAKN,GAAGO,IADE;AAEVC,YAAQ;AAFE,GADG;AAKdC,YAAS;AALK,EAHP;AAULC,OAVK,oBAUK;AACZV,KAAGW,GAAH,CAAO,gCAAP;AACA,MAAIC,OAAO,IAAX;AACAA,OAAKC,IAAL,CAAUC,EAAV,CAAa,SAAb,EAAwBF,KAAKG,WAA7B,EAA0CH,IAA1C;AACMZ,KAAGgB,YAAH,CAAgBC,WAAhB,CAA4B;AACxBC,UAAOlB,GAAGmB,aAAH,CAAiBC,gBADA;AAExBC,mBAAgB,IAFQ;AAGxB;AACAC,iBAAc,sBAAUC,KAAV,EAAiBL,KAAjB,EAAwB;AAClC,WAAO,IAAP;AACH,IANuB;AAOxBM,iBAAc,sBAAUD,KAAV,EAAiBL,KAAjB,EAAwB,CAAa;AAClD,IARuB;AASxBO,iBAAc,sBAAUF,KAAV,EAAiBL,KAAjB,EAAwB;AAAa;AAC3D,QAAIQ,SAAOR,MAAMS,gBAAN,EAAX;AACA,QAAIC,QAAMF,OAAOG,kBAAP,CAA0BN,MAAMO,WAAN,EAA1B,CAAV;AACA,QAAIC,IAAIL,OAAOM,cAAP,EAAR;AACA,QAAIC,OAAOjC,GAAGiC,IAAH,CAAQ,CAAR,EAAW,CAAX,EAAcF,EAAEG,KAAhB,EAAuBH,EAAEI,MAAzB,CAAX;AACA,QAAInC,GAAGoC,iBAAH,CAAqBH,IAArB,EAA2BL,KAA3B,CAAJ,EAAsC;AACrC5B,QAAGW,GAAH,CAAO,8BAAP;AACA,KAFD,MAEK;AACJX,QAAGW,GAAH,CAAO,0BAAP;AACAC,UAAKC,IAAL,CAAUwB,MAAV,GAAmB,KAAnB;AACA;AACD;AApBgC,GAA5B,EAqBIzB,KAAKC,IArBT;AAsBN,EApCO;AAqCRyB,iBArCQ,4BAqCSC,KArCT,EAqCe;AACtBvC,KAAGW,GAAH,CAAO6B,KAAKC,SAAL,CAAeF,KAAf,CAAP;AACA,OAAI,IAAIG,IAAI,CAAZ,EAAcA,IAAIH,MAAMI,MAAxB,EAA+BD,GAA/B,EAAmC;AAClC,OAAIE,MAAML,MAAMG,CAAN,IAAW,CAArB;AACA,QAAKrC,UAAL,CAAgBuC,GAAhB,EAAqBP,MAArB,GAA8B,IAA9B;AACA;AACD,EA3CO;AA4CRQ,aA5CQ,wBA4CKpC,QA5CL,EA4Cc;AACrB,OAAKA,QAAL,GAAgBA,QAAhB;AACA,EA9CO;AA+CRM,YA/CQ,uBA+CIG,KA/CJ,EA+CW;AACZ,MAAI4B,QAAQ5B,MAAMQ,MAAN,CAAaqB,YAAb,CAA0B,cAA1B,EAA0CD,KAAtD;AACN,MAAIxC,OAAOY,MAAMQ,MAAN,CAAaqB,YAAb,CAA0B,cAA1B,EAA0CzC,IAArD;AACAN,KAAGW,GAAH,CAAO,yBAAyBmC,KAAzB,GAAiC,QAAjC,GAA4CxC,IAAnD;AACA,OAAKG,QAAL,CAAcqC,KAAd;AACA,OAAKjC,IAAL,CAAUmC,OAAV;AACG;AArDI,CAAT","file":"select_compare.js","sourceRoot":"../../../../../assets/Script/compare","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n\t\tmy_selects:{\n\t\t\ttype:cc.Node,\n\t\t\tdefault:[]\n\t\t},\n\t\tcallback:null,\n    },\n    onLoad () {\n\t\tcc.log(\"start go into select comparejs\");\n\t\tvar self = this;\n\t\tself.node.on(\"pressed\", self.switchRadio, self);\n        cc.eventManager.addListener({\n            event: cc.EventListener.TOUCH_ONE_BY_ONE,\n            swallowTouches: true,\n            // 设置是否吞没事件，在 onTouchBegan 方法返回 true 时吞没\n            onTouchBegan: function (touch, event) {\n                return true;\n            },\n            onTouchMoved: function (touch, event) {            // 触摸移动时触发\n            },\n            onTouchEnded: function (touch, event) {            // 点击事件结束处理\n\t\t\t\tvar target=event.getCurrentTarget();\n\t\t\t\tvar local=target.convertToNodeSpace(touch.getLocation());\n\t\t\t\tvar s = target.getContentSize();\n\t\t\t\tvar rect = cc.rect(0, 0, s.width, s.height);\n\t\t\t\tif (cc.rectContainsPoint(rect, local)){\n\t\t\t\t\tcc.log(\"ok touch in the region......\");\n\t\t\t\t}else{\n\t\t\t\t\tcc.log(\"touch remove from parent\");\n\t\t\t\t\tself.node.active = false;\n\t\t\t\t}\n\t\t\t}\n         }, self.node);\n\t},\n\tset_which_select(which){\n\t\tcc.log(JSON.stringify(which));\n\t\tfor(var i = 0;i < which.length;i++){\n\t\t\tvar idx = which[i] - 1;\n\t\t\tthis.my_selects[idx].active = true;\n\t\t}\n\t},\n\tset_callback(callback){\n\t\tthis.callback = callback;\n\t},\n\tswitchRadio(event) {\n        var index = event.target.getComponent(\"bipai_choice\").index;\n\t\tvar type = event.target.getComponent(\"bipai_choice\").type;\n\t\tcc.log(\"switchRadio : index:\" + index + \" type:\" + type);\n\t\tthis.callback(index);\n\t\tthis.node.destroy();\n    },\n});\n"]}
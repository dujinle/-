{"version":3,"sources":["../../../../assets/Script/assets/Script/LoadGame.js"],"names":["cc","Class","extends","Component","properties","loadBar","ProgressBar","precent","Label","rate","source_leng","onLoad","load_res","schedule","load_update","progress","string","log","unschedule","director","loadScene","self","loader","loadResDir","SpriteFrame","err","assets","i","length","g_assets","name"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,UAASF,GAAGG,SADP;;AAGLC,aAAY;AACRC,WAAQL,GAAGM,WADH;AAERC,WAAQP,GAAGQ,KAFH;AAGdC,QAAK,CAHS;AAIdC,eAAY;AAJE,EAHP;AASLC,OATK,oBASK;AACZ,OAAKD,WAAL,GAAmB,GAAnB;AACA,OAAKE,QAAL;AACM,OAAKC,QAAL,CAAc,KAAKC,WAAnB,EAA+B,GAA/B;AACH,EAbI;AAcRA,YAdQ,yBAcK;AACZ,OAAKT,OAAL,CAAaU,QAAb,GAAwB,KAAKN,IAAL,GAAU,KAAKC,WAAf,GAA6B,GAArD;AACA,OAAKH,OAAL,CAAaS,MAAb,GAAsB,KAAKX,OAAL,CAAaU,QAAb,GAAwB,GAA9C;AACAf,KAAGiB,GAAH,CAAO,eAAe,KAAKR,IAA3B;AACA,MAAG,KAAKA,IAAL,IAAa,KAAKC,WAArB,EAAiC;AAChC,QAAKQ,UAAL,CAAgB,KAAKJ,WAArB;AACAd,MAAGmB,QAAH,CAAYC,SAAZ,CAAsB,YAAtB;AACA;AACD,EAtBO;AAuBRR,SAvBQ,sBAuBE;AACT,MAAIS,OAAO,IAAX;AACArB,KAAGsB,MAAH,CAAUC,UAAV,CAAqB,EAArB,EAAwBvB,GAAGwB,WAA3B,EAAuC,UAAUC,GAAV,EAAeC,MAAf,EAAuB;AAC7D,QAAI,IAAIC,IAAI,CAAZ,EAAcA,IAAID,OAAOE,MAAzB,EAAgCD,GAAhC,EAAoC;AACnCE,aAASH,OAAOC,CAAP,EAAUG,IAAnB,IAA2BJ,OAAOC,CAAP,CAA3B;AACAN,SAAKZ,IAAL,GAAYY,KAAKZ,IAAL,GAAY,CAAxB;AACAT,OAAGiB,GAAH,CAAO,eAAeS,OAAOC,CAAP,EAAUG,IAAhC;AACA;AACD,GAND;AAOA9B,KAAGsB,MAAH,CAAUC,UAAV,CAAqB,QAArB,EAA8B,UAAUE,GAAV,EAAeC,MAAf,EAAuB;AACpD,QAAI,IAAIC,IAAI,CAAZ,EAAcA,IAAID,OAAOE,MAAzB,EAAgCD,GAAhC,EAAoC;AACnCE,aAASH,OAAOC,CAAP,EAAUG,IAAnB,IAA2BJ,OAAOC,CAAP,CAA3B;AACAN,SAAKZ,IAAL,GAAYY,KAAKZ,IAAL,GAAY,CAAxB;AACAT,OAAGiB,GAAH,CAAO,eAAeS,OAAOC,CAAP,EAAUG,IAAhC;AACA;AACD,GAND;AAOA;AAvCO,CAAT","file":"LoadGame.js","sourceRoot":"../../../../assets/Script","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        loadBar:cc.ProgressBar,\n        precent:cc.Label,\n\t\trate:0,\n\t\tsource_leng:58,\n    },\n    onLoad () {\n\t\tthis.source_leng = 109;\n\t\tthis.load_res();\n        this.schedule(this.load_update,0.5);\n    },\n\tload_update(){\n\t\tthis.loadBar.progress = this.rate/this.source_leng * 100;\n\t\tthis.precent.string = this.loadBar.progress + \"%\";\n\t\tcc.log(\"this.rate:\" + this.rate);\n\t\tif(this.rate >= this.source_leng){\n\t\t\tthis.unschedule(this.load_update);\n\t\t\tcc.director.loadScene(\"LoginScene\");\n\t\t}\n\t},\n\tload_res(){\n\t\tvar self = this;\n\t\tcc.loader.loadResDir(\"\",cc.SpriteFrame,function (err, assets) {\n\t\t\tfor(var i = 0;i < assets.length;i++){\n\t\t\t\tg_assets[assets[i].name] = assets[i];\n\t\t\t\tself.rate = self.rate + 1;\n\t\t\t\tcc.log(\"load res :\" + assets[i].name);\n\t\t\t}\n\t\t});\n\t\tcc.loader.loadResDir(\"prefab\",function (err, assets) {\n\t\t\tfor(var i = 0;i < assets.length;i++){\n\t\t\t\tg_assets[assets[i].name] = assets[i];\n\t\t\t\tself.rate = self.rate + 1;\n\t\t\t\tcc.log(\"load res :\" + assets[i].name);\n\t\t\t}\n\t\t});\n\t}\n});"]}
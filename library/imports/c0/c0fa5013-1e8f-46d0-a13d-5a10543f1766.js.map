{"version":3,"sources":["../../../../../assets/Script/chips/assets/Script/chips/add_chip.js"],"names":["cc","Class","extends","Component","properties","callback","onLoad","log","self","node","on","switchRadio","eventManager","addListener","event","EventListener","TOUCH_ONE_BY_ONE","swallowTouches","onTouchBegan","touch","onTouchMoved","onTouchEnded","target","getCurrentTarget","local","convertToNodeSpace","getLocation","s","getContentSize","rect","width","height","rectContainsPoint","active","set_callback","index","getComponent","type","destroy"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,UAASF,GAAGG,SADP;;AAGLC,aAAY;AACdC,YAAS;AADK,EAHP;AAMLC,OANK,oBAMK;AACZN,KAAGO,GAAH,CAAO,+BAAP;AACA,MAAIC,OAAO,IAAX;AACAA,OAAKC,IAAL,CAAUC,EAAV,CAAa,SAAb,EAAwBF,KAAKG,WAA7B,EAA0CH,IAA1C;AACMR,KAAGY,YAAH,CAAgBC,WAAhB,CAA4B;AACxBC,UAAOd,GAAGe,aAAH,CAAiBC,gBADA;AAExBC,mBAAgB,IAFQ;AAGxB;AACAC,iBAAc,sBAAUC,KAAV,EAAiBL,KAAjB,EAAwB;AAClC,WAAO,IAAP;AACH,IANuB;AAOxBM,iBAAc,sBAAUD,KAAV,EAAiBL,KAAjB,EAAwB,CAAa;AAClD,IARuB;AASxBO,iBAAc,sBAAUF,KAAV,EAAiBL,KAAjB,EAAwB;AAAa;AAC3D,QAAIQ,SAAOR,MAAMS,gBAAN,EAAX;AACA,QAAIC,QAAMF,OAAOG,kBAAP,CAA0BN,MAAMO,WAAN,EAA1B,CAAV;AACA,QAAIC,IAAIL,OAAOM,cAAP,EAAR;AACA,QAAIC,OAAO7B,GAAG6B,IAAH,CAAQ,CAAR,EAAW,CAAX,EAAcF,EAAEG,KAAhB,EAAuBH,EAAEI,MAAzB,CAAX;AACA,QAAI/B,GAAGgC,iBAAH,CAAqBH,IAArB,EAA2BL,KAA3B,CAAJ,EAAsC;AACrCxB,QAAGO,GAAH,CAAO,8BAAP;AACA,KAFD,MAEK;AACJP,QAAGO,GAAH,CAAO,0BAAP;AACAC,UAAKC,IAAL,CAAUwB,MAAV,GAAmB,KAAnB;AACA;AACD;AApBgC,GAA5B,EAqBI,KAAKxB,IArBT;AAsBN,EAhCO;AAiCRyB,aAjCQ,wBAiCK7B,QAjCL,EAiCc;AACrB,OAAKA,QAAL,GAAgBA,QAAhB;AACA,EAnCO;AAoCRM,YApCQ,uBAoCIG,KApCJ,EAoCW;AACZ,MAAIqB,QAAQrB,MAAMQ,MAAN,CAAac,YAAb,CAA0B,YAA1B,EAAwCD,KAApD;AACN,MAAIE,OAAOvB,MAAMQ,MAAN,CAAac,YAAb,CAA0B,YAA1B,EAAwCC,IAAnD;AACArC,KAAGO,GAAH,CAAO,yBAAyB4B,KAAzB,GAAiC,QAAjC,GAA4CE,IAAnD;AACA,OAAKhC,QAAL,CAAc8B,KAAd;AACA,OAAK1B,IAAL,CAAU6B,OAAV;AACG;AA1CI,CAAT","file":"add_chip.js","sourceRoot":"../../../../../assets/Script/chips","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n\t\tcallback:null,\n    },\n    onLoad () {\n\t\tcc.log(\"start go into pop add chip js\");\n\t\tvar self = this;\n\t\tself.node.on(\"pressed\", self.switchRadio, self);\n        cc.eventManager.addListener({\n            event: cc.EventListener.TOUCH_ONE_BY_ONE,\n            swallowTouches: true,\n            // 设置是否吞没事件，在 onTouchBegan 方法返回 true 时吞没\n            onTouchBegan: function (touch, event) {\n                return true;\n            },\n            onTouchMoved: function (touch, event) {            // 触摸移动时触发\n            },\n            onTouchEnded: function (touch, event) {            // 点击事件结束处理\n\t\t\t\tvar target=event.getCurrentTarget();\n\t\t\t\tvar local=target.convertToNodeSpace(touch.getLocation());\n\t\t\t\tvar s = target.getContentSize();\n\t\t\t\tvar rect = cc.rect(0, 0, s.width, s.height);\n\t\t\t\tif (cc.rectContainsPoint(rect, local)){\n\t\t\t\t\tcc.log(\"ok touch in the region......\");\n\t\t\t\t}else{\n\t\t\t\t\tcc.log(\"touch remove from parent\");\n\t\t\t\t\tself.node.active = false;\n\t\t\t\t}\n\t\t\t}\n         }, this.node);\n\t},\n\tset_callback(callback){\n\t\tthis.callback = callback;\n\t},\n\tswitchRadio(event) {\n        var index = event.target.getComponent(\"one_choice\").index;\n\t\tvar type = event.target.getComponent(\"one_choice\").type;\n\t\tcc.log(\"switchRadio : index:\" + index + \" type:\" + type);\n\t\tthis.callback(index);\n\t\tthis.node.destroy();\n    },\n});\n"]}
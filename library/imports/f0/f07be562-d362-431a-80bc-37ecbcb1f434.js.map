{"version":3,"sources":["../../../../../assets/Script/cards/assets/Script/cards/zjh_card.js"],"names":["cc","Class","extends","Component","properties","sprite","sprite_back","Sprite","suit","rank","initCardSprite","size","director","getVisibleSize","cardNumber","Node","sp","addComponent","spriteFrame","g_assets","toString","runAction","hide","node","addChild","onLoad","log","setPosition","p","width","height","g_dealCardBack","getContentSize","test_open","self","loader","loadResDir","SpriteFrame","err","assets","i","length","name","rate","backCardSeq","sequence","delayTime","backCamera","rotateBy","backSpawn","spawn","frontSeq","show","frontCamera","frontSpawn","setTimeout","test_close"],"mappings":"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","file":"zjh_card.js","sourceRoot":"../../../../../assets/Script/cards","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\n// Learn Attribute:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n\t\tsprite:null,\n\t\tsprite_back:cc.Sprite,\n\t\tsuit:0,\n\t\trank:0,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\tinitCardSprite(suit,rank){\n\t\tvar size = cc.director.getVisibleSize();\n        this.suit = suit;\n        this.rank = rank;\n        var cardNumber=(this.rank-2)*4+this.suit;\n\t\tthis.sprite = new cc.Node(\"sprite\");\n\t\tvar sp = this.sprite.addComponent(cc.Sprite);\n\t\tsp.spriteFrame = g_assets[cardNumber.toString()];\n\t\tthis.sprite.runAction(cc.hide());\n\t\tthis.node.addChild(this.sprite);\n    },\n    onLoad () {\n\t\tcc.log(\"zjh_card  onload......\");\n\t\tvar size = cc.director.getVisibleSize();\n\t\tthis.node.setPosition(cc.p(size.width/2,size.height + g_dealCardBack.getContentSize().height/2));\n\t\t//this.test_open();\n\t},\n\ttest_open(){\n\t\tvar self = this;\n\t\tcc.loader.loadResDir(\"\",cc.SpriteFrame,function (err, assets) {\n\t\t\tfor(var i = 0;i < assets.length;i++){\n\t\t\t\tg_assets[assets[i].name] = assets[i];\n\t\t\t\tself.rate = self.rate + 1;\n\t\t\t\tcc.log(\"load res :\" + assets[i].name);\n\t\t\t}\n\t\t\tself.initCardSprite(2,5);\n\t\t\tvar backCardSeq = cc.sequence(cc.delayTime(0.45),cc.hide());\n\t\t\tvar backCamera = cc.rotateBy(0.45,0,-90);\n\t\t\tvar backSpawn = cc.spawn(backCardSeq,backCamera);\n\t\t\tvar frontSeq = cc.sequence(cc.delayTime(0.45),cc.show());\n\t\t\tvar frontCamera = cc.rotateBy(0.6,0,-360);\n\t\t\tvar frontSpawn = cc.spawn(frontSeq,frontCamera);\n\t\t\tself.sprite_back.node.runAction(backSpawn);\n\t\t\tself.sprite.runAction(frontSpawn);\n\t\t\tsetTimeout(function(){\n\t\t\t\tvar frontSeq = cc.sequence(cc.delayTime(0.45),cc.hide());\n\t\t\t\tvar frontCamera = cc.rotateBy(0.45,0,90);\n\t\t\t\tvar frontSpawn = cc.spawn(frontSeq,frontCamera);\n\t\t\t\t\n\t\t\t\tvar backCardSeq = cc.sequence(cc.delayTime(0.45),cc.show());\n\t\t\t\tvar backCamera = cc.rotateBy(0.6,0,270);\n\t\t\t\tvar backSpawn = cc.spawn(backCardSeq,backCamera);\n\t\t\t\t\n\t\t\t\tself.sprite.runAction(frontSpawn);\n\t\t\t\tself.sprite_back.node.runAction(backSpawn);\n\t\t\t},2000);\n\t\t});\n\t},\n\ttest_close(){\n\t\tvar self = this;\n\t\tvar frontSeq = cc.sequence(cc.delayTime(0.45),cc.hide());\n\t\tvar frontCamera = cc.rotateBy(0.45,0,-90);\n\t\tvar frontSpawn = cc.spawn(frontSeq,frontCamera);\n\t\t\n\t\tvar backCardSeq = cc.sequence(cc.delayTime(0.45),cc.show());\n\t\tvar backCamera = cc.rotateBy(0.9,0,-180);\n\t\tvar backSpawn = cc.spawn(backCardSeq,backCamera);\n\t\t\n\t\tself.sprite.runAction(frontSpawn);\n\t\tself.sprite_back.node.runAction(backSpawn);\n\t}\n    // update (dt) {},\n});\n"]}
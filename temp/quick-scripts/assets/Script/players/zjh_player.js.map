{"version":3,"sources":["zjh_player.js"],"names":["cc","Class","extends","Component","properties","id","nick_name","my_gold","position_server","player_position","check_card","is_power","abandon","mobile_sprite","Sprite","counter_timer","Node","status_sprite","nick_name_label","Label","gold_label","my_cards","type","default","onLoad","log","init","params","JSON","stringify","getComponent","string","init_cards","setSpriteStatus","start_timer","count_timer","stop_timer","status","console","spriteFrame","g_assets","node","active","i","card","instantiate","parent","addChild","push","set_card_sprite","idx","suit","rank","initCardSprite","remove_cards","length","destroy","splice","hide_status_sprite","resetMoneyLabel","money"],"mappings":"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","file":"zjh_player.js","sourceRoot":"../../../../../assets/Script/players","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\n// Learn Attribute:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n\t\tid:0,\n\t\tnick_name:null,\n\t\tmy_gold:0,\n\t\tposition_server:0,\n\t\tplayer_position:0,\n\t\tcheck_card:false,\n\t\tis_power:0,\n\t\tabandon:false,\n\t\tmobile_sprite:cc.Sprite,\n\t\tcounter_timer:cc.Node,\n\t\tstatus_sprite:cc.Sprite,\n\t\tnick_name_label:cc.Label,\n\t\tgold_label:cc.Label,\n\t\tmy_cards:{\n\t\t\ttype:cc.Node,\n\t\t\tdefault:[]\n\t\t},\n\t\t\n    },\n\tonLoad(){\n\t\tcc.log(\"load zjh player......\",this.check_card);\n\t\t\n\t},\n\tinit(params){\n\t\tcc.log(\"zjh_player init: \" + JSON.stringify(params));\n\t\tthis.id = params[0];\n        this.position_server = params[1];\n        this.is_power = params[2];\n\t\tthis.nick_name = params[3];\n\t\tthis.my_gold = params[4];\n\t\tif(params[6] == 0){\n\t\t\tthis.check_card = false;\n\t\t}else{\n\t\t\tthis.check_card = true;\n\t\t}\n\t\tthis.nick_name_label.getComponent(cc.Label).string = this.nick_name;\n\t\tthis.gold_label.getComponent(cc.Label).string = this.my_gold;\n\t\tthis.init_cards();\n\t\tif(this.is_power > 0){\n\t\t\tthis.setSpriteStatus(\"yizhunbei\");\n\t\t}\n\t},\n\tstart_timer(){\n\t\tvar count_timer = this.counter_timer.getComponent(\"count_timer\");\n\t\tcount_timer.start_timer();\n\t},\n\tstop_timer(){\n\t\tvar count_timer = this.counter_timer.getComponent(\"count_timer\");\n\t\tcount_timer.stop_timer();\n\t},\n    setSpriteStatus(status){\n\t\tconsole.log(\"zjh_player setSpriteStatus:\" + status);\n\t\tthis.status_sprite.spriteFrame = g_assets[status];\n\t\tthis.status_sprite.node.active = true;\n\t},\n\tinit_cards(){\n\t\tfor(var i = 0;i < 3;i++){\n\t\t\tvar card = cc.instantiate(g_assets[\"zjh_card\"]);\n\t\t\tthis.node.parent.addChild(card);\n\t\t\tthis.my_cards.push(card);\n\t\t}\n    },\n\tset_card_sprite(idx,suit,rank){\n\t\tvar card = this.my_cards[idx].getComponent(\"zjh_card\");\n\t\tcard.initCardSprite(suit,rank);\n\t},\n\tremove_cards(){\n\t\tfor(var i = 0;i < this.my_cards.length;i++){\n\t\t\tvar card = this.my_cards[i];\n\t\t\tcard.destroy();\n\t\t}\n\t\tthis.my_cards.splice(0,this.my_cards.length);\n\t},\n\thide_status_sprite(){\n\t\tthis.status_sprite.node.active = false;\n\t},\n\tresetMoneyLabel(money){\n\t\tthis.my_gold = money;\n\t\tthis.gold_label.string = money;\n\t}\n\t// update (dt) {},\n});\n"]}
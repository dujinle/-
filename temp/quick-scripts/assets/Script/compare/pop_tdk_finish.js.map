{"version":3,"sources":["pop_tdk_finish.js"],"names":["cc","Class","extends","Component","properties","tdk_sprite","Node","tdk_layout","Layout","onLoad","log","self","eventManager","addListener","event","EventListener","TOUCH_ONE_BY_ONE","swallowTouches","onTouchBegan","touch","onTouchMoved","onTouchEnded","target","getCurrentTarget","local","convertToNodeSpace","getLocation","s","getContentSize","rect","width","height","rectContainsPoint","node","active","init_info","players","i","length","player","player_com","getComponent","item","instantiate","g_assets","item_com","player_name","string","nick_name","score","my_scole","status","spriteFrame","statusTag","j","my_cards","card","card_com","set_card_info","suit","rank","addChild","test_t","loader","loadResDir","SpriteFrame","err","assets","name"],"mappings":"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","file":"pop_tdk_finish.js","sourceRoot":"../../../../../assets/Script/compare","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n\t\ttdk_sprite:cc.Node,\n\t\ttdk_layout:cc.Layout,\n    },\n    onLoad () {\n\t\tcc.log(\"start go into pop tdk finish js\");\n\t\tvar self = this;\n        cc.eventManager.addListener({\n            event: cc.EventListener.TOUCH_ONE_BY_ONE,\n            swallowTouches: true,\n            // 设置是否吞没事件，在 onTouchBegan 方法返回 true 时吞没\n            onTouchBegan: function (touch, event) {\n                return true;\n            },\n            onTouchMoved: function (touch, event) {            // 触摸移动时触发\n            },\n            onTouchEnded: function (touch, event) {            // 点击事件结束处理\n\t\t\t\tvar target=event.getCurrentTarget();\n\t\t\t\tvar local=target.convertToNodeSpace(touch.getLocation());\n\t\t\t\tvar s = target.getContentSize();\n\t\t\t\tvar rect = cc.rect(0, 0, s.width, s.height);\n\t\t\t\tif (cc.rectContainsPoint(rect, local)){\n\t\t\t\t\tcc.log(\"ok touch in the region......\");\n\t\t\t\t}else{\n\t\t\t\t\tcc.log(\"touch remove from parent\");\n\t\t\t\t\tself.node.active = false;\n\t\t\t\t}\n\t\t\t}\n         }, self.tdk_sprite);\n\t\t //this.test_t();\n\t},\n\tinit_info(players){\n\t\tfor(var i = 0;i < players.length;i++){\n\t\t\tvar player = players[i];\n\t\t\tvar player_com = player.getComponent(\"tdk_player\");\n\t\t\tvar item = cc.instantiate(g_assets[\"tdk_player_item\"]);\n\t\t\tvar item_com = item.getComponent(\"tdk_player_item\");\n\t\t\titem_com.player_name.string = player_com.nick_name;\n\t\t\titem_com.score.string = player_com.my_scole;\n\t\t\titem_com.status.spriteFrame = g_assets[player_com.statusTag];\n\t\t\tfor(var j = 0;j < player_com.my_cards.length;j++){\n\t\t\t\tvar card = player_com.my_cards[j];\n\t\t\t\tvar card_com = card.getComponent(\"zjh_card\");\n\t\t\t\titem_com.set_card_info(j,card_com.suit,card_com.rank);\n\t\t\t}\n\t\t\tthis.tdk_layout.node.addChild(item);\n\t\t}\n\t},\n\ttest_t(){\n\t\tvar self = this;\n\t\tcc.loader.loadResDir(\"\",cc.SpriteFrame,function (err, assets) {\n\t\t\tfor(var i = 0;i < assets.length;i++){\n\t\t\t\tg_assets[assets[i].name] = assets[i];\n\t\t\t\tcc.log(\"load res :\" + assets[i].name);\n\t\t\t}\n\t\t\tcc.loader.loadResDir(\"prefab\",function (err, assets) {\n\t\t\t\tfor(var i = 0;i < assets.length;i++){\n\t\t\t\t\tg_assets[assets[i].name] = assets[i];\n\t\t\t\t\tcc.log(\"load res :\" + assets[i].name);\n\t\t\t\t}\n\t\t\t\tfor(var i = 0;i < 2;i++){\n\t\t\t\t\tvar item = cc.instantiate(g_assets[\"tdk_player_item\"]);\n\t\t\t\t\tvar item_com = item.getComponent(\"tdk_player_item\");\n\t\t\t\t\titem_com.player_name.string = \"1111\";\n\t\t\t\t\titem_com.score.string = 30;\n\t\t\t\t\titem_com.status.spriteFrame = g_assets[\"winner\"];\n\t\t\t\t\tfor(var j = 0;j < 3;j++){\n\t\t\t\t\t\titem_com.set_card_info(j,2,10);\n\t\t\t\t\t}\n\t\t\t\t\tself.tdk_layout.node.addChild(item);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n});\n"]}
{"version":3,"sources":["shoe_active.js"],"names":["cc","Class","extends","Component","properties","is_start","shoe_active","Node","egg_active","bomb_active","kiss_active","flower_active","cheers_active","show_type","is_finish","anim","animStatus","onLoad","log","active","show_shoe","onFinished","isValid","node","parent","destroy","s_pos","e_pos","self","loader","loadResDir","SpriteFrame","err","assets","i","length","g_assets","name","rate","instantiate","addChild","setPosition","p","move","moveTo","rotation","rotateBy","spawn","runAction","getComponent","Animation","play","wrapMode","WrapMode","Normal","Loop","repeatCount","show_egg","on","show_bomb","show_kiss","show_flower","show_cheers"],"mappings":"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","file":"shoe_active.js","sourceRoot":"../../../../../assets/Script/common","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n\t\tis_start:false,\n\t\tshoe_active:cc.Node,\n\t\tegg_active:cc.Node,\n\t\tbomb_active:cc.Node,\n\t\tkiss_active:cc.Node,\n\t\tflower_active:cc.Node,\n\t\tcheers_active:cc.Node,\n\t\tshow_type:0,\n\t\tis_finish:false,\n\t\tanim:null,\n\t\tanimStatus:null,\n    },\n    onLoad () {\n\t\tcc.log(\"load gift active class\");\n\t\tthis.shoe_active.active = false;\n\t\tthis.egg_active.active = false;\n\t\tthis.bomb_active.active = false;\n\t\tthis.kiss_active.active = false;\n\t\tthis.flower_active.active = false;\n\t\tthis.cheers_active.active = false;\n\t\tthis.show_shoe();\n\t},\n\tonFinished(){\n\t\tcc.log(\"shoe active finish\",this.isValid);\n\t\tif(this.show_type == 1){\n\t\t\tthis.shoe_active.active = false;\n\t\t}else if(this.show_type == 2){\n\t\t\tthis.egg_active.active = false;\n\t\t}else if(this.show_type == 3){\n\t\t\tthis.bomb_active.active = false;\n\t\t}else if(this.show_type == 4){\n\t\t\tthis.kiss_active.active = false;\n\t\t}else if(this.show_type == 5){\n\t\t\tthis.flower_active.active = false;\n\t\t}else if(this.show_type == 6){\n\t\t\tthis.cheers_active.active = false;\n\t\t}\n\t\t\n\t\tthis.is_finish = true;\n\t\tthis.is_start = false;\n\t\tthis.node.parent = null;\n\t\tthis.node.destroy();\n\t},\n\tshow_shoe(s_pos,e_pos){\n\t\tvar self = this;\n\t\tcc.loader.loadResDir(\"\",cc.SpriteFrame,function (err, assets) {\n\t\t\tfor(var i = 0;i < assets.length;i++){\n\t\t\t\tg_assets[assets[i].name] = assets[i];\n\t\t\t\tself.rate = self.rate + 1;\n\t\t\t\tcc.log(\"load res :\" + assets[i].name);\n\t\t\t}\n\t\t});\n\t\tcc.loader.loadResDir(\"prefab\",function (err, assets) {\n\t\t\tfor(var i = 0;i < assets.length;i++){\n\t\t\t\tg_assets[assets[i].name] = assets[i];\n\t\t\t\tself.rate = self.rate + 1;\n\t\t\t\tcc.log(\"load res :\" + assets[i].name);\n\t\t\t}\n\t\t\tvar shoe_active = cc.instantiate(g_assets[\"shoe_active\"]);\n\t\t\tself.node.addChild(shoe_active);\n\t\t\tshoe_active.setPosition(cc.p(0,0));\n\t\t\tvar move = cc.moveTo(0.5,cc.p(100,100));\n\t\t\tvar rotation = cc.rotateBy(0.5,360);\n\t\t\tvar spawn = cc.spawn(move,rotation);\n\t\t\tshoe_active.runAction(move);\n\t\t\tvar anim = shoe_active.getComponent(cc.Animation);\n\t\t\tvar animStatus = anim.play(\"shoe_active\");\n\t\t\t// 设置循环模式为 Normal\n\t\t\tanimStatus.wrapMode = cc.WrapMode.Normal;\n\t\t\t// 设置循环模式为 Loop\n\t\t\tanimStatus.wrapMode = cc.WrapMode.Loop;\n\t\t\t// 设置动画循环次数为2次\n\t\t\tanimStatus.repeatCount = 1;\n\t\t});\n\t},\n\tshow_egg(){\n\t\tthis.show_type = 2;\n\t\tthis.egg_active.active = true;\n\t\tthis.anim = this.egg_active.getComponent(cc.Animation);\n\t\tthis.anim.on('finished',  this.onFinished,this);\n\t\tthis.animStatus = this.anim.play(\"egg_active\");\n\t\tthis.is_start = true;\n\t\t// 设置循环模式为 Normal\n\t\tthis.animStatus.wrapMode = cc.WrapMode.Normal;\n\t\t// 设置循环模式为 Loop\n\t\tthis.animStatus.wrapMode = cc.WrapMode.Loop;\n\t\t// 设置动画循环次数为2次\n\t\tthis.animStatus.repeatCount = 1;\n\t},\n\tshow_bomb(){\n\t\tthis.show_type = 3;\n\t\tthis.bomb_active.active = true;\n\t\tthis.anim = this.bomb_active.getComponent(cc.Animation);\n\t\tthis.anim.on('finished',  this.onFinished,this);\n\t\tthis.animStatus = this.anim.play(\"bomb_active\");\n\t\tthis.is_start = true;\n\t\t// 设置循环模式为 Normal\n\t\tthis.animStatus.wrapMode = cc.WrapMode.Normal;\n\t\t// 设置循环模式为 Loop\n\t\tthis.animStatus.wrapMode = cc.WrapMode.Loop;\n\t\t// 设置动画循环次数为2次\n\t\tthis.animStatus.repeatCount = 1;\n\t},\n\tshow_kiss(){\n\t\tthis.show_type = 4;\n\t\tthis.kiss_active.active = true;\n\t\tthis.anim = this.kiss_active.getComponent(cc.Animation);\n\t\tthis.anim.on('finished',  this.onFinished,this);\n\t\tthis.animStatus = this.anim.play(\"kiss_active\");\n\t\tthis.is_start = true;\n\t\t// 设置循环模式为 Normal\n\t\tthis.animStatus.wrapMode = cc.WrapMode.Normal;\n\t\t// 设置循环模式为 Loop\n\t\tthis.animStatus.wrapMode = cc.WrapMode.Loop;\n\t\t// 设置动画循环次数为2次\n\t\tthis.animStatus.repeatCount = 1;\n\t},\n\tshow_flower(){\n\t\tthis.show_type = 5;\n\t\tthis.flower_active.active = true;\n\t\tthis.anim = this.flower_active.getComponent(cc.Animation);\n\t\tthis.anim.on('finished',  this.onFinished,this);\n\t\tthis.animStatus = this.anim.play(\"flower_active\");\n\t\tthis.is_start = true;\n\t\t// 设置循环模式为 Normal\n\t\tthis.animStatus.wrapMode = cc.WrapMode.Normal;\n\t\t// 设置循环模式为 Loop\n\t\tthis.animStatus.wrapMode = cc.WrapMode.Loop;\n\t\t// 设置动画循环次数为2次\n\t\tthis.animStatus.repeatCount = 1;\n\t},\n\tshow_cheers(){\n\t\tthis.show_type = 6;\n\t\tthis.cheers_active.active = true;\n\t\tthis.anim = this.cheers_active.getComponent(cc.Animation);\n\t\tthis.anim.on('finished',  this.onFinished,this);\n\t\tthis.animStatus = this.anim.play(\"cheers_active\");\n\t\tthis.is_start = true;\n\t\t// 设置循环模式为 Normal\n\t\tthis.animStatus.wrapMode = cc.WrapMode.Normal;\n\t\t// 设置循环模式为 Loop\n\t\tthis.animStatus.wrapMode = cc.WrapMode.Loop;\n\t\t// 设置动画循环次数为2次\n\t\tthis.animStatus.repeatCount = 1;\n\t},\n});\n"]}